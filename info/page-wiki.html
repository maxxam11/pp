<polymer-element name="page-wiki" attributes="pageTitle">
    <template>        
        <link rel="stylesheet" href="../css/main.css">
        <style>
            #spinner { margin: 20px 45%; }
            div.description { padding: 10px 20px; }
            
            div.description table.vcard { border: solid 1px #999; border-collapse: collapse; width: 100%; background-color: #f1f1f1; }
            div.description table.vcard th { border: solid 0px #999; width: 50%;  text-align: right; padding: 2px 5px;  }
            div.description table.vcard td { border: solid 1px #999; text-align: left; padding: 2px 5px; }
            
            div.description div.thumb {  }
            div.description div.thumb img { }
            div.description div.thumb span { display: block; color: grey; font-size: 80%; }
        </style>
        
         <app-ajax
            auto
            id="ajax"
            op="wiki/space"
            params='{}'
            on-core-response="{{handleResponse}}"
            on-core-error="{{handleResponseError}}"></app-ajax>
        
        <el-page pageTitle="{{pageTitle}}">
            <div id="toolbarMainIcon"><content></content></div>
            <!--<div id="toolbarIcons"><paper-icon-button icon="add" on-click="{{addPhone}}"></paper-icon-button></div>-->
            
            <div id="scroller" flex style="overflow: auto; padding-top: 10px; "> 
                <paper-spinner id="spinner" active="true"></paper-spinner>
                <div id="wrapper" class="wrapper" hidden>
                    <div class="description" id="content">
                        
                    </div>
                </div> 
            </div>
        </el-page>
        
    </template>
    
    
    
    <script>
        Polymer('page-wiki', {
        pageTitle: 'О районе',    
        ready: function(){
                document.title = this.pageTitle;
                ga_storage._trackPageview('/page-wiki.html');
            },
            handleResponse: function (e, detail, sender) { 
                this.$.content.innerHTML = detail.response.data.html;
                this.$.wrapper.hidden = false;
                this.$.spinner.hidden = true;
            },
            handleResponseError: function(){
                //this.$.spinner.hide();
                //@todo здесь нужно показать кнопку о том что нет подключения и попробовать еще раз
            }
            
        });
    </script>
</polymer-element>