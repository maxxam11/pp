<polymer-element name="app-route">
    <template>

        <more-routing driver="hash"></more-routing>
        
        <more-route-switch routeContext id="routes">
            
            <template when-route="/news"><page-news><content></content></page-news></template>            
            <template when-route="/news-item/:id"><page-news-item newsId="{{params.id}}"></page-news-item></template>
            
            <template when-route="/weather"><page-weather><content></content></page-weather></template>
            
            <template when-route="/payments/account-add/:id"><page-account-add accountId="{{params.id}}"></page-account-add></template>
            <template when-route="/payments"><page-payments><content></content></page-payments></template>
            
            <template when-route="/info/wiki"><page-wiki><content></content></page-wiki></template>
            <template when-route="/info/phones"><page-phones><content></content></page-phones></template> 
            <template when-route="/info"><page-info><content></content></page-info></template>            
            
            <template when-route="/profile"><page-profile><content></content></page-profile></template>
            
            <template when-route="/login"><page-login><content></content></page-login></template>
            <template when-route="/forget"><page-forget><content></content></page-forget></template>
            <template when-route="/registration"><page-registration><content></content></page-registration></template>
            <template when-route="/confirm"><page-confirm><content></content></page-confirm></template>
            
            <template when-route="/feedback"><page-feedback><content></content></page-feedback></template>            
            <template when-route="/nointernet"><page-nointernet><content></content></page-nointernet></template>

            <template else><page-news><content></content></page-news></template>

        </more-route-switch>

    </template>
    <script>        
        Polymer('app-route', {
            ready: function(){
                
                for(var i = 0, l = CONFIG.routes.length; i < l; i++) { 
                    var route = CONFIG.routes[i];
                    $(this.$.routes).prepend(
                      '<template when-route="/space' + route.route + '">' 
                      + '<page-' + route.page + (route.param ? ' ' + route.param + '="{{params.id}}"' : '') + '>'
                      + '<content></content>'
                      + '</page-' + route.page + '>' 
                      + '</template>');
                } 
            },
        });
        
    </script>
</polymer-element>































