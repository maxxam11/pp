<polymer-element name="el-card-list" attributes="item">
    <template>
        <link rel="stylesheet" href="../css/main.css">
        <style>            
            .card { height: 73px; padding: 16px 10px; color: #000;  position: relative; cursor: pointer; }
            .card:hover { background-color: #fafafa; }
            
            #title { overflow: hidden; margin-bottom: 10px; height: 51px; font-size: 15px; line-height: 17px; }
            #body { text-overflow: ellipsis; overflow: hidden; height: 15px; font-size: 13px; line-height: 15px; }
            #date { font-size: 12px; margin-top: 5px; height: 14px; }
            #date.grey { color: #999; }
            
            .img { width: 96px; height: 73px;  background-size: cover; background-position: 50% 50%; margin-left: 10px; }
            .img.empty { width: 0px; }            
            
            .mask { background-color: rgba(255,255,255,0.6);  position: absolute; height: 100%; width: 100%; top: 0; left: 0; }
        </style> 
        
        <div class="card separator" layout horizontal> 
            
            <template if="{{!item.isNew}}">
                <div class="mask"></div>
            </template>
            
            
            <div flex>
                <div  style="text-overflow: clip; overflow: hidden;">
                    <div id="title"></div>   
                    <!--<div id="body"></div>-->
                    <div id="date" class="{{item.dateago == 'сегодня' ? 'primary-color' : 'grey'}}"></div>
                </div>

                                
            </div>
            <div class="img {{ item.imgUrl ? '' : 'empty'}}" style="background-image: url('{{item.imgUrl}}');"></div>               
               
            
        </div>
        
    </template>
    <script>
        Polymer('el-card-list', {
            ready: function(){ 
                this.$.title.innerHTML = this.item.title;
                this.$.date.innerHTML = this.item.dateago;
                
                //очищаем от ссылок  и картинок тело новости
//                var body = this.item.body[0];                
//                var regLink = /\[a\s(.*?)\]([\s\S]*?)\[\/a\]/g;
//                var regImg = /\[img\s(.*?)\]/g;
//                body = body.replace(regLink, '$2');
//                body = body.replace(regImg, '');
//                this.$.body.innerHTML = body;
            }
        });
    </script>
</polymer-element>